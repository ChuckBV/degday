<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Compute Degree Days • degday</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Compute Degree Days">
<meta property="og:description" content="Compute degree days from daily min and max temperatures for modeling plant and animal development.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">degday</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ucanr-igis/degday/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="compute-degree-days" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#compute-degree-days" class="anchor"></a>Compute Degree Days</h1></div>
<!-- README.md is generated from README.Rmd. Please edit that file -->
<!-- badges: start -->

<p>degday provides formulas for estimating <a href="https://en.wikipedia.org/wiki/Growing_degree-day">degree days</a> from daily minimum and maximum temperatures. Degree days are commonly used in agriculture to predict the growth of plants and insects. To use the formulas, you must pass a record of daily minimum and maximum temperatures, as well as provide a species-specific temperature range in which development occurs.</p>
<p>Formulas are based on the work by Zalom et al (<a href="#references">1983</a>). These same formula are used on the <a href="http://ipm.ucanr.edu/WEATHER/">UC Integrated Pest Management</a> (UC IPM) website. See the UC IPM website for additional background on <a href="http://ipm.ucanr.edu/WEATHER/ddconcepts.html">degree days</a>, <a href="http://ipm.ucanr.edu/WEATHER/ddfigindex.html">detailed figures and formulas</a>, and <a href="http://www.ipm.ucdavis.edu/MODELS/">models</a> that predict growth stages of various crops and pests based on degree days.</p>
<p>degday implements all the formula in Zalom et. al., including the single and double triangle methods, the single and double sine methods, and the simple average method. All formula use the horizontal cutoff method. It does not currently support the vertical cutoff method, nor the corrected sine and triangle methods.</p>
<p>Most people compute degree days in order to lookup when a development milestone such as flower blooming or adult emergence is expected. You should use whichever method of degree days referenced in the lookup table. When in doubt, use the single-sine method.</p>
<p>Degree days are sometimes referred to as <em>growing degree days</em>, which generally refers to data that drives models of specifically plant growth. Other terms that are more or less synonymous with degree days are <em>heat units</em> and <em>thermal units</em>. <em>Chill hours</em> is a related concept, but uses accumulated cold to predict plant and insect development rather than accumulated heat. Formulas for computing chill hours and chill portions may be found in <a href="https://cran.r-project.org/package=chillR">chillR</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install the development version of degday, run the following. Windows users need to have <a href="https://cran.r-project.org/bin/windows/Rtools/">RTools</a> installed first.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"ucanr-igis/degday"</span><span class="op">)</span></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>To illustrate, we can compute degree days for a sample dataset consisting of one year of minimum and maximum daily temperatures from the <a href="http://ipm.ucanr.edu/calludt.cgi/WXSTATIONDATA?MAP=yolo.html&amp;STN=Esparto.A">Esparto.A</a> CIMIS weather station in Yolo County, California.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">degday</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="va">espartoa_csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata/espartoa-weather-2020.csv"</span>, package <span class="op">=</span> <span class="st">"degday"</span><span class="op">)</span>
<span class="va">espartoa_temp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="va">espartoa_csv</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span>
<span class="va">espartoa_temp</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;     station       date tmin tmax</span>
<span class="co">#&gt; 1 Esparto.A 2020-01-01   38   55</span>
<span class="co">#&gt; 2 Esparto.A 2020-01-02   36   67</span>
<span class="co">#&gt; 3 Esparto.A 2020-01-03   33   59</span>
<span class="co">#&gt; 4 Esparto.A 2020-01-04   37   59</span>
<span class="co">#&gt; 5 Esparto.A 2020-01-05   38   63</span>
<span class="co">#&gt; 6 Esparto.A 2020-01-06   36   58</span></code></pre></div>
<p>To compute degree days, we have to tell it a range of temperatures in which development occurs. We’ll select 55.0°F and 93.9°F, which are the lower and upper thresholds for <a href="http://ipm.ucanr.edu/PHENOLOGY/ma-navel_orangeworm.html">Navel Orangeworm</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">thresh_low</span> <span class="op">&lt;-</span> <span class="fl">55</span>
<span class="va">thresh_up</span> <span class="op">&lt;-</span> <span class="fl">93.9</span></code></pre></div>
<p>The single-triangle and single-sine methods can be computed with <code><a href="reference/dd_vals.html">dd_sng_tri()</a></code> and <code><a href="reference/dd_vals.html">dd_sng_sine()</a></code>. We can add them as columns in our table using <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">espartoa_dd</span> <span class="op">&lt;-</span> <span class="va">espartoa_temp</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>sng_tri <span class="op">=</span> <span class="fu"><a href="reference/dd_vals.html">dd_sng_tri</a></span><span class="op">(</span>daily_min <span class="op">=</span> <span class="va">tmin</span>, daily_max <span class="op">=</span> <span class="va">tmax</span>, 
                              thresh_low <span class="op">=</span> <span class="va">thresh_low</span>, thresh_up <span class="op">=</span> <span class="va">thresh_up</span><span class="op">)</span>,
         sng_sine <span class="op">=</span> <span class="fu"><a href="reference/dd_vals.html">dd_sng_sine</a></span><span class="op">(</span>daily_min <span class="op">=</span> <span class="va">tmin</span>, daily_max <span class="op">=</span> <span class="va">tmax</span>, 
                                thresh_low <span class="op">=</span> <span class="va">thresh_low</span>, thresh_up <span class="op">=</span> <span class="va">thresh_up</span><span class="op">)</span><span class="op">)</span>

<span class="va">espartoa_dd</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;     station       date tmin tmax   sng_tri  sng_sine</span>
<span class="co">#&gt; 1 Esparto.A 2020-01-01   38   55 0.0000000 0.0000000</span>
<span class="co">#&gt; 2 Esparto.A 2020-01-02   36   67 2.3225806 3.3101298</span>
<span class="co">#&gt; 3 Esparto.A 2020-01-03   33   59 0.3076923 0.6766645</span>
<span class="co">#&gt; 4 Esparto.A 2020-01-04   37   59 0.3636364 0.7378844</span>
<span class="co">#&gt; 5 Esparto.A 2020-01-05   38   63 1.2800000 1.9896042</span>
<span class="co">#&gt; 6 Esparto.A 2020-01-06   36   58 0.2045455 0.4768866</span></code></pre></div>
<p>To compute degree days using the double-triangle and double-sine methods, we need to first add a column to our temperature table for the “day after” minimum temperature. That’s because these methods use the minimum temperature of the next day to better model cooling in the afternoon and evening hours.</p>
<p>We can add the next-day minimum temperature to our table with a little dplyr. Note this requires us to drop-the final row (because we don’t have a next-day temperature for it).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">espartoa_temp2</span> <span class="op">&lt;-</span> <span class="va">espartoa_temp</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>tmin_next <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lead</a></span><span class="op">(</span><span class="va">tmin</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="va">espartoa_temp2</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;     station       date tmin tmax tmin_next</span>
<span class="co">#&gt; 1 Esparto.A 2020-01-01   38   55        36</span>
<span class="co">#&gt; 2 Esparto.A 2020-01-02   36   67        33</span>
<span class="co">#&gt; 3 Esparto.A 2020-01-03   33   59        37</span>
<span class="co">#&gt; 4 Esparto.A 2020-01-04   37   59        38</span>
<span class="co">#&gt; 5 Esparto.A 2020-01-05   38   63        36</span>
<span class="co">#&gt; 6 Esparto.A 2020-01-06   36   58        30</span></code></pre></div>
<p>The double-triangle and double-sine methods can be computed with <code><a href="reference/dd_vals.html">dd_dbl_tri()</a></code> and <code><a href="reference/dd_vals.html">dd_dbl_sine()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">espartoa_dd2</span> <span class="op">&lt;-</span> <span class="va">espartoa_temp2</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dbl_tri <span class="op">=</span> <span class="fu"><a href="reference/dd_vals.html">dd_dbl_tri</a></span><span class="op">(</span>daily_min <span class="op">=</span> <span class="va">tmin</span>, daily_max <span class="op">=</span> <span class="va">tmax</span>, nextday_min <span class="op">=</span> <span class="va">tmin_next</span>,
                              thresh_low <span class="op">=</span> <span class="va">thresh_low</span>, thresh_up <span class="op">=</span> <span class="va">thresh_up</span><span class="op">)</span>,
         dbl_sine <span class="op">=</span> <span class="fu"><a href="reference/dd_vals.html">dd_dbl_sine</a></span><span class="op">(</span>daily_min <span class="op">=</span> <span class="va">tmin</span>, daily_max <span class="op">=</span> <span class="va">tmax</span>, nextday_min <span class="op">=</span> <span class="va">tmin_next</span>,
                                thresh_low <span class="op">=</span> <span class="va">thresh_low</span>, thresh_up <span class="op">=</span> <span class="va">thresh_up</span><span class="op">)</span><span class="op">)</span>

<span class="va">espartoa_dd2</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;     station       date tmin tmax tmin_next   dbl_tri  dbl_sine</span>
<span class="co">#&gt; 1 Esparto.A 2020-01-01   38   55        36 0.0000000 0.0000000</span>
<span class="co">#&gt; 2 Esparto.A 2020-01-02   36   67        33 2.2201139 3.2285910</span>
<span class="co">#&gt; 3 Esparto.A 2020-01-03   33   59        37 0.3356643 0.7072744</span>
<span class="co">#&gt; 4 Esparto.A 2020-01-04   37   59        38 0.3722944 0.7469314</span>
<span class="co">#&gt; 5 Esparto.A 2020-01-05   38   63        36 1.2325926 1.9493055</span>
<span class="co">#&gt; 6 Esparto.A 2020-01-06   36   58        30 0.1826299 0.4491396</span></code></pre></div>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Zalom, F.G., P.B. Goodell, L.T. Wilson, W.W. Barnett, and W.J. Bentley.</p>
<ol>
<li>
<em>Degree-days: The calculation and use of heat units in pest management</em>. UC DANR Leaflet 21373. Available from <a href="https://catalog.hathitrust.org/Record/008707238">Hathi Trust</a>.</li>
</ol>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/ucanr-igis/degday/">https://​github.com/​ucanr-igis/​degday/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ucanr-igis/degday/issues">https://​github.com/​ucanr-igis/​degday/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Andy Lyons <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-7505-6709" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Andy Lyons.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
